{
  "app-id": "com.github.dtg01100.vacation_calendar_updater",
  "runtime": "org.kde.Platform",
  "runtime-version": "6.10",
  "sdk": "org.kde.Sdk",
  "base": "io.qt.PySide.BaseApp",
  "base-version": "6.10",
  "command": "vacation-calendar-updater",
  "finish-args": [
    "--share=network",
    "--socket=x11",
    "--socket=wayland",
    "--filesystem=xdg-config",
    "--env=PYTHONPATH=/app"
  ],
  "cleanup-commands": [
    "/app/cleanup-BaseApp.sh"
  ],
  "build-options": {
    "env": {
      "BASEAPP_REMOVE_WEBENGINE": "1"
    }
  },
  "extensions": {
    "org.kde.Platform": {
      "version": "6.10",
      "url": "https://flathub.org/repo/flathub.flatpakrepo",
      "branch": "stable"
    },
    "org.kde.Sdk": {
      "version": "6.10",
      "url": "https://flathub.org/repo/flathub.flatpakrepo",
      "branch": "stable"
    },
    "io.qt.PySide.BaseApp": {
      "version": "6.10",
      "url": "https://flathub.org/repo/flathub.flatpakrepo",
      "branch": "stable"
    }
  },
  "modules": [
    "pypi-dependencies.json",
    {
      "name": "vacation-calendar-updater",
      "buildsystem": "simple",
      "sources": [
        {
          "type": "file",
          "path": "vacation-calendar-updater.tar.gz"
        }
      ],
      "build-commands": [
        "mkdir -p /app/bin /app/share/applications /app/share/icons/hicolor/{16x16,32x32,48x48,64x64,128x128,256x256,512x512}/apps /app/share/metainfo",
        "tar -xzf vacation-calendar-updater.tar.gz",
        "cp -r app /app/",
        "cp client_secret.json /app/",
        "cp flatpak/icon-16x16.png /app/share/icons/hicolor/16x16/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/icon-32x32.png /app/share/icons/hicolor/32x32/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/icon-48x48.png /app/share/icons/hicolor/48x48/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/icon-64x64.png /app/share/icons/hicolor/64x64/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/icon-128x128.png /app/share/icons/hicolor/128x128/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/icon-256x256.png /app/share/icons/hicolor/256x256/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/icon-512x512.png /app/share/icons/hicolor/512x512/apps/com.github.dtg01100.vacation_calendar_updater.png",
        "cp flatpak/com.github.dtg01100.vacation_calendar_updater.appdata.xml /app/share/metainfo/",
        "echo '#!/usr/bin/env python3' > /app/bin/vacation-calendar-updater",
        "echo 'from app.main import main; main()' >> /app/bin/vacation-calendar-updater",
        "chmod +x /app/bin/vacation-calendar-updater",
        "install -D -m 644 flatpak/com.github.dtg01100.vacation_calendar_updater.desktop /app/share/applications/com.github.dtg01100.vacation_calendar_updater.desktop"
      ]
    }
  ]
}